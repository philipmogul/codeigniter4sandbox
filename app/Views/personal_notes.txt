# This are my personal notes to help me master codeigniter 

# Making Auth Controller & AdminController to control authorizations of logins 

php spark make:controller AuthController 
# New File in Controllers/AuthController.php 


php spark make:controller AdminController 
# New File in Controllers/AdminController.php 


# In Librabries Folder, I created 2 Files: Hash.php + CIAuth.php
# Hash will help create a hash password and compare to password received by user to what is in database 
# CIAuth helps store verified admin credentials in sessions 


# Removing visibility of pages eg index.php 
# Create a .htacess file and paste the following 
<IfModule mod_rewrite.c>
	RewriteEngine On
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteRule ^(.*)$ index.php/$1 [L]
</IfModule>

# The Go app/Config/App.php and remove index.php from public string $indexPage


# Filters help protect routes eg when logged out you cant see home page and when logged in 
you cant go back to index page 
# Create terminal in filter 
: php spark make:filter CIFilter 
# It wiil be created in the filters folder 
# paste authorizations code 
# Open app/Config/Filters.php = reg CIFilters as ALias 
# Open routes.php = apply filters on route groups 




# Sending Emails with php 
1. Downloaded PhpMailer 
2. Created a mailtrap.io account
3. Went to mailtrap.io and selected configuration for php > phpmailer ( But there are a lot 
of platforms eg codeigniter , laravel etc )
4. Opened .env file and added new email variables 
5. Added a helper file for send email function 
6. Pasted in the helper file from phpmailer github page 
7. Create migrations file for password reset tokens : 
	php spark make:migration password_reset_tokens_table 
	// Add columns to it in up() and down() methods 


8. Create password reset token model 
	php spark make:model PasswordResetToken 
	// Modify model 
	// Run : php spark migrate 
	// The command with create the db and relevant column names 

9. Install php nesbot carbon : composer require nesbot/carbon

10. In AuthController: Add PasswordResetToken Model + Carbon 
11. Include CIMail in helpers 
12. 




